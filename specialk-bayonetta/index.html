<!DOCTYPE html>
<html lang="en">
  <head>
    
      <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-171597004-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-171597004-1');
</script>

    

    <meta charset="utf-8">

    <title>
      
        
          SpecialK Mod on Linux :: Miyaco&#x27;s Linux Gaming Blog
        
      
    </title>

    
      
    

    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <link rel="stylesheet" href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;css&#x2F;style.css">

    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;img&#x2F;apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;img&#x2F;favicon.png">
  </head>

  <body class="dark-theme">
    <div class="container">
      
      <header class="header">
        <span class="header__inner">
          
  <a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb" class="logo" style="text-decoration: none;">
    <span class="logo__mark">
      <svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
        <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
      </svg>
    </span>
    <span class="logo__text">Miyaco&#x27;s Linux Gaming Blog</span>
    
      <span class="logo__cursor" style="background: #a9a9b3;"></span>
    
  </a>

          <span class="header__right">
            
              <nav class="menu">
                <ul class="menu__inner menu__inner--desktop">
                  
                    <li><a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb">Home</a></li>
                  
                    <li><a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;about">About</a></li>
                  
                    <li><a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;tags">Tags</a></li>
                  
                    <li><a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;contact">Contact</a></li>
                  
                </ul>

                <ul class="menu__inner menu__inner--mobile">
                  
                    <li><a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb">Home</a></li>
                  
                    <li><a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;about">About</a></li>
                  
                    <li><a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;tags">Tags</a></li>
                  
                    <li><a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;contact">Contact</a></li>
                  
                </ul>
              </nav>

              <span class="menu-trigger">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <path d="M0 0h24v24H0z" fill="none"/>
                  <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                </svg>
              </span>
            
            <span class="theme-toggle">
              <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
                3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
                13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
              </svg>
            </span>
          </span>
        </span>
      </header>

      
      <div class="content">
        
  <div class="post">
    <h1 class="post-title">
      <a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;specialk-bayonetta&#x2F;">
        SpecialK Mod on Linux
      </a>
    </h1>

    <div class="post-meta">
      
        <span class="post-date">
          2020-07-05
        </span>
        
      

      
        <span class="post-author">
          — Written by Miyaco
        </span>
      

      
    </div>

    
      
        <span class="post-tags">
          
            #<a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;tags&#x2F;mod&#x2F;">mod</a>
          
            #<a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;tags&#x2F;specialk&#x2F;">specialk</a>
          
        </span>
      
    

    <div class="post-content">
      
        <h2>Table of Contents</h2>
        <aside class="table-of-contents">
          <ul>
            
              <li>
                <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#introduction">Introduction</a>
                
                  <ul>
                    
                      <li>
                        <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#links">Links</a>
                      </li>
                    
                  </ul>
                
              </li>
            
              <li>
                <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#screenshot">Screenshot</a>
                
              </li>
            
              <li>
                <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#disclaimer">Disclaimer</a>
                
              </li>
            
              <li>
                <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#my-system">My System</a>
                
              </li>
            
              <li>
                <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#prerequisites">Prerequisites</a>
                
              </li>
            
              <li>
                <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#install-specialk-mod-for-the-game">Install SpecialK Mod for the Game</a>
                
              </li>
            
              <li>
                <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#issues">Issues</a>
                
              </li>
            
              <li>
                <a href="https://MiyacoGBF.github.io/mlgb/specialk-bayonetta/#uninstall">Uninstall</a>
                
              </li>
            
          </ul>
        </aside>
      
      <h2 id="introduction">Introduction</h2>
<p>I have tested SpecialK Mod on Linux for <a href="https://store.steampowered.com/app/460790/Bayonetta/">Bayonetta</a> and successfully unlocked FPS of this game.
In this pose, I'd like to share how I installed SpecialK Mod on steam on linux.</p>
<h3 id="links">Links</h3>
<ul>
<li><a href="https://github.com/Kaldaien/SpecialK/releases">SpecialK Mod</a></li>
<li><a href="https://steamcommunity.com/sharedfiles/filedetails/?id=933337066">An Unofficial Guild to SpecialK</a> (Steam Community)</li>
</ul>
<span id="continue-reading"></span><h2 id="screenshot">Screenshot</h2>
<a href="#fullscreen">
  <img src="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;2020-07-05_SpecialK_Bayonetta&#x2F;Screenshot_full.png" width="100%" style="margin: 0 auto;" />
</a>
<div class="modal-wrapper" id="fullscreen">
  <a href="#!" class="modal-overlay"></a>
  <div class="modal-window">
    <div class="modal-content">
      <img src="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;2020-07-05_SpecialK_Bayonetta&#x2F;Screenshot_full.png" width="100%" />
    </div>
    <a href="#!" class="modal-close">×</a>
  </div>
</div>
<h2 id="disclaimer">Disclaimer</h2>
<p>I have not yet tested stability and have tested only on Bayonetta.
I'm not sure if this will work on other games but anyway share how to.
If you try things written below, do it at <strong>YOUR OWN RIST</strong>.</p>
<h2 id="my-system">My System</h2>
<ul>
<li>OS: Arch Linux</li>
<li>Kernel: Linux 5.7.6-12-tkg-pds (fsync enabled)</li>
<li>CPU: Intel Core i7-8700</li>
<li>RAM: 16GB</li>
<li>GPU: NVIDIA GeForce GTX 1060 6GB</li>
<li>Graphic Driver: NVIDIA 440.66.17 (proprietary/vulkan dev)</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ol>
<li>
<p>Install <code>protontricks</code> to system wide.</p>
<ul>
<li>For Arch Linux, there is <a href="https://aur.archlinux.org/packages/protontricks/">AUR Package</a>.</li>
</ul>
</li>
<li>
<p>Install <a href="https://github.com/Frogging-Family/wine-tkg-git/tree/master">tkg-version of proton</a> into Steam.</p>
<ul>
<li>
<p>I used default <code>proton-tkg.conf</code> and <code>Proton-tkg 5.11.r11.gb6c28187</code>.</p>
</li>
<li>
<p>DXVK version was <code>v1.7</code>.</p>
</li>
</ul>
</li>
<li>
<p>Set the game to use installed proton-tkg.</p>
<ul>
<li>I'm not sure if necessary, but I disabled steam overlay for the game.</li>
</ul>
</li>
<li>
<p>Launch the game once with proton-tkg and check if it work property.</p>
</li>
<li>
<p>Check if the game is 32-bit or 64-bit.</p>
<ul>
<li>
<p>Go to the game directory (<code>~/.local/share/Steam/steamapps/common/[gama-name]</code> by default) and run <code>file [game-name].exe</code>.</p>
</li>
<li>
<p>Then you will see output like <code>Bayonetta.exe: PE32 executable (GUI) Intel 80386, for MS Windows</code> for 32-bit games or <code>NieRAutomata.exe: PE32+ executable (GUI) x86-64, for MS Windows</code> for 64-bit games.</p>
</li>
</ul>
</li>
</ol>
<p>Optionally, you can use <a href="https://github.com/flightlessmango/MangoHud">MangoHud</a> to check FPS and frametime.
I strongly recommend to use MangoHud or DXVK HUD (dxvk's builtin hud) to check game FPS and frametime.</p>
<h2 id="install-specialk-mod-for-the-game">Install SpecialK Mod for the Game</h2>
<ol>
<li>
<p>Check steam app-id for the game by <code>protontricks -s [game-name]</code>.</p>
<ul>
<li>For example, in case of Bayonetta, run <code>protontricks -s Bayonetta</code> and get app-id as <code>460790</code>.</li>
</ul>
</li>
<li>
<p>Install <code>vcrun2017</code> and <code>d3dcompiler_47</code> for the game prefix by <code>protontricks [app-id] vcrun2017 d3dcompiler_47</code>.</p>
<ul>
<li><code>d3dcompiler_47</code> may not need for SpecialK, but it would be necessary for the bundled ReShade.</li>
</ul>
</li>
<li>
<p>Download SpecialK v0.8.66 (<code>SpecialK_0_8_66.7z</code>) from <a href="https://github.com/Kaldaien/SpecialK/releases">github repo</a>.</p>
<ul>
<li><strong>NOTE</strong>: This is not the latest version. Latest version did not work on linux at least I have tested.</li>
<li><strong>NOTE</strong>: If you are using AMD GPU, v0.9 series may work.</li>
</ul>
</li>
<li>
<p>Extract downloaded file and copy SpecialK64.dll and SpecialK64.pdb (for 64-bit game) or SpecialK32.dll and SpecialK32.pdb (for 32-bit game) into the game directory where <code>[game-name].exe</code> exists. The game directory is <code>~/.local/share/Steam/steamapps/common/[game-name]</code> by default.</p>
</li>
<li>
<p>Rename copied dll file to <code>d3d9.dll</code> or <code>d3d11.dll</code> depending on API used by the game.</p>
<ul>
<li>For example, Bayonetta is 32-bit and using DirectX9, so copy SpecialK32 files and rename <code>SpecialK32.dll</code> to <code>d3d9.dll</code>.</li>
</ul>
</li>
<li>
<p>Launch the game once. It will crash soon but necessary to auto-generate <code>.ini</code> file to configure the mod.</p>
</li>
<li>
<p>Edit <code>d3d9.ini</code> or <code>d3d11.ini</code> file created in the game directory as below:</p>
<ul>
<li>
<p>Under <code>[NVIDIA.API]</code> section, set <code>Disable=true</code>.</p>
</li>
<li>
<p>Under <code>[Steam.Log]</code> section, set <code>Silent=true</code>.</p>
</li>
<li>
<p>To unlock FPS, set <code>RefreshRate=0</code> under <code>[Render.FrameRate]</code> section.</p>
</li>
</ul>
</li>
<li>
<p>Run the game with FPS/Frametime watcher.</p>
<ul>
<li>
<p>If you use MangoHud, set steam launch option like <code>mangohud %command%</code>.</p>
</li>
<li>
<p>If you use DXVK HUD, set steam launch option like <code>DXVK_HUD=full %command%</code></p>
</li>
</ul>
</li>
<li>
<p>Then you'll see the game is running under the unlocked FPS.</p>
</li>
<li>
<p>If frametime is not stable, or shows periodic spikes (this is shown in Bayonetta), make <a href="https://github.com/doitsujin/dxvk/wiki/Configuration">dxvk config file</a> to unlock vsync on DXVK as below:</p>
<ul>
<li>
<p>For DirectX9 games: <code>d3d9.presentInterval = 0</code>.</p>
</li>
<li>
<p>For DirectX11 games: <code>dxgi.syncInterval = 0</code>.</p>
<ul>
<li><strong>WARN</strong>: DirectX11 games are not tested by the author.</li>
</ul>
</li>
<li>
<p>Below screenshot is MangoHud of Bayonetta's title scene, without any dxvk configuration. There are periodic spikes in the frametime graph:</p>
</li>
</ul>
</li>
</ol>
<a href="#without_dxvk_conf">
  <img src="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;2020-07-05_SpecialK_Bayonetta&#x2F;Screenshot_without_dxvk_conf.png" width="40%" style="margin: 0 auto;" />
</a>
<div class="modal-wrapper" id="without_dxvk_conf">
  <a href="#!" class="modal-overlay"></a>
  <div class="modal-window">
    <div class="modal-content">
      <img src="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;2020-07-05_SpecialK_Bayonetta&#x2F;Screenshot_without_dxvk_conf.png" width="100%" />
    </div>
    <a href="#!" class="modal-close">×</a>
  </div>
</div>
<ol start="11">
<li>Set the steam launch option to load dxvk config file like <code>DXVK_CONFIG_FILE=/path/to/config/file.conf %command%</code> and then launch the game. Hopefully the frametime issue will disappear and the game will be smoothly rendered as below screenshot (compare the frametime graph with the previous screenshot):</li>
</ol>
<a href="#with_dxvk_conf">
  <img src="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;2020-07-05_SpecialK_Bayonetta&#x2F;Screenshot_with_dxvk_conf.png" width="40%" style="margin: 0 auto;" />
</a>
<div class="modal-wrapper" id="with_dxvk_conf">
  <a href="#!" class="modal-overlay"></a>
  <div class="modal-window">
    <div class="modal-content">
      <img src="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;2020-07-05_SpecialK_Bayonetta&#x2F;Screenshot_with_dxvk_conf.png" width="100%" />
    </div>
    <a href="#!" class="modal-close">×</a>
  </div>
</div>
<ol start="12">
<li>
<p>(optional) If you'd like to use ReShade, copy <code>PlugIns</code> folder in the extracted SpecialK folder into <code>~/.local/share/Steam/steamapps/compatdata/[app-id]/pfx/drive_c/users/steamuser/My Documents/My Mods/SpecialK/</code> and enable ReShade plugin from the in-game menu of SpecialK. Menu can be opened by pressing <code>Ctrl</code> + <code>Shift</code> + <code>Backspace</code>. Then check ReShade in <code>Plug-Ins</code> -&gt; <code>Unofficial</code> and restart the game.</p>
</li>
<li>
<p>(optional) If you'd like to use newer ReShade or custom ReShade not bundled with SpecialK, replace <code>ReShade32.dll</code> or <code>ReShade64.dll</code> in the <code>PlugIns/Unofficial/ReShade</code> directory by that version.</p>
</li>
</ol>
<h2 id="issues">Issues</h2>
<ul>
<li>SpecialK OSD shows higher FPS than DXVK HUD/MangoHud by twice on Bayonetta (see left-side bottom of the first screenshot). Maybe correct FPS is shown by MangoHud's or DXVK HUD's one.</li>
</ul>
<h2 id="uninstall">Uninstall</h2>
<p>Remove or rename <code>d3d9.dll</code> or <code>d3d11.dll</code> file in the game directory.</p>

    </div>

    
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">
            Read other posts
          </span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
          
            <span class="button next">
              <a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;nier-automata-far&#x2F;">
                <span class="pagination__text">
                  
                    How to Install FAR, HD Texture Pack, and ReShade (GShade) for NieR:Automata on Linux
                  
                </span>
                <span class="pagination__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    

    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h">
              Comments
            </span>
            <hr />
          </div>
        </div>
        <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://miyacos-linux-gaming-blog.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

      
    

  </div>

      </div>

      
      <footer class="footer">
        <div class="footer__inner">
          
  <a href="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb" class="logo" style="text-decoration: none;">
    <span class="logo__mark">
      <svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
        <path fill="none" d="M15 8l14.729 14.382L15 35.367"/>
      </svg>
    </span>
    <span class="logo__text">Miyaco&#x27;s Linux Gaming Blog</span>
    
      <span class="logo__cursor" style="background: #a9a9b3;"></span>
    
  </a>


          <div class="copyright">
            
              
            
            <span>© 2020 Miyaco, Powered by 
              <a href="https://www.getzola.org" target="_blank" rel="noopener">Zola</a>
            </span>
          </div>
        </div>
      </footer>

      <script src="https:&#x2F;&#x2F;MiyacoGBF.github.io&#x2F;mlgb&#x2F;js&#x2F;main.js"></script>
    </div>
  </body>
</html>
